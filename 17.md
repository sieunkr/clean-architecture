
# 17장 경계 : 선 긋기

소프트웨어 아키텍처는 선을 긋는 기술이다. 이러한 선을 경계(boundary)라고 부른다. 
경계는 소프트웨어 요소를 서로 분리하고, 경계 한편에 있는 요소가 반대편에 있는 요소를 알지 못하도록 막는다. 

아키텍트의 목표는 필요한 시스템을 만들고 유지하는 데 드는 인적 자원을 최소화하는 것이다. 
그렇다면 인적 자원의 효율을 떨어뜨리는 요인은 무엇일까? 바로 결합(Coupling)이다. 

하지만, 모든 결정이 이르다고 나쁘진 않다. 시스템의 업무 요구사항, 유스케이스와 관련이 없는 결정들이 이르면 안된다. 
예를 들어서, 프레임워크, 데이터베이스, 웹 서버, 유틸리티 라이브러리, 의존성 주입에 대한 결정 등이다.
좋은 시스템 아키텍처는 이런 결정에 의존하지 않는다. 좋은 시스템 아키텍처는 이러한 결정을 가능한 한 최후의 순간에 내릴 수 있게 해주며, 
결정에 따른 영향이 크지 않게 만든다. 

## 어떻게, 언제 선을 그을까?

데이터베이스와 업무규칙은 관련이 없으므로, 이 둘 사이에 선이 있어야 한다. 
물론, 동의하지 않을 수도... 데이터베이스는 업무 규칙과 서로 뗴어놓을 수 없는 관계라고 생각할 수도 있다. 
데이터베이스는 업무 규칙이 간접적으로 사용활 수 있는 도구이다. 업무 규칙은 스키마, 쿼리 언어, 또는 데이터베이스와 관련 된 나머지 세부사항에 대해서 어떤 것도 알아서는 안된다. 업무 규칙이 알아야 할 것은 데이터를 가져오고 저장활 때 사용할 수 있는 함수 집합이 있다는 사실이 전부다. 
이러한 함수 집합을 통해서 데이터베이스를 인터페이스 뒤로 숨길 수 있다. 

그림 17-1 확인

Business Rules --> (I)Database Interface <-- Database Access --> Database

경계선은 Database Interface 바로 아래에 그어진다. 

Business Rules --> (I)Database Interface <-||- Database Access --> Database

DataBase 는 BusinessRules에 대해 알고 있다. 하지만, BusinessRules 는 Database 에 관해 알지 못한다. 
BusinessRules 에 있어 Database 는 문제가 되지 않지만, Database는 BusinessRules 없이는 존재할 수 없다. 

두 컴포넌트 사이에 이러한 경계선을 그리고 화살표의 방향이 Business Rules를 향하도록 만들었으므로, BusinessRules 에서는 어떤 종류의 데이터베이스도 사용할 수 있다. 데이터베이스를 결정하기에 앞서 업무 규칙을 먼저 작성하고 테스트하는 데 집중할 수 있다. 

## 입력, 출력

생략

## 플러그인 아키텍처

생략. 읽어보면 됨

## 결론

의존성 역전 원칙과 안정된 추상화 원칙을 응용한 것이다. 의존성 화살표는 저수준 세부사항에서 고수준의 추상화를 향하도록 배치된다. 

